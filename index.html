<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex, nofollow" />
    <title>Search</title>
    <link rel="stylesheet" href="style.css?v=4" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=IBM+Plex+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1 class="logo">search<span class="logo-accent">.</span></h1>
        <form class="search-form" id="search-form">
          <input
            type="text"
            class="search-input"
            id="search-input"
            placeholder="Search the web..."
            autocomplete="off"
            autofocus
          />
          <button type="submit" class="search-btn">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8" />
              <path d="M21 21l-4.35-4.35" />
            </svg>
          </button>
          <span class="search-hint">Press <kbd>/</kbd> to focus</span>
        </form>
        <button type="button" class="chatgpt-btn" id="chatgpt-btn" title="Open in ChatGPT">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"/>
          </svg>
          <span>Ask ChatGPT</span>
        </button>
      </header>

      <!-- Image Slider -->
      <section class="image-slider-section" id="image-section" style="display: none;">
        <div class="image-slider-header">
          <h2 class="image-slider-title">Images</h2>
          <button class="view-all-btn" id="view-all-images">View all</button>
        </div>
        <div class="image-slider" id="image-slider">
          <button class="slider-nav slider-prev" id="slider-prev">‹</button>
          <div class="slider-track" id="slider-track"></div>
          <button class="slider-nav slider-next" id="slider-next">›</button>
        </div>
      </section>

      <!-- Image Modal -->
      <div class="image-modal" id="image-modal">
        <div class="modal-overlay" id="modal-overlay"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2>Images</h2>
            <button class="modal-close" id="modal-close">×</button>
          </div>
          <div class="modal-grid" id="modal-grid"></div>
        </div>
      </div>

      <!-- Image Preview -->
      <div class="image-preview" id="image-preview">
        <div class="preview-overlay" id="preview-overlay"></div>
        <div class="preview-content">
          <button class="preview-close" id="preview-close">×</button>
          <img class="preview-image" id="preview-image" src="" alt="">
          <div class="preview-info" id="preview-info"></div>
        </div>
      </div>

      <main class="results" id="results">
        <!-- Desktop: Two columns -->
        <section class="results-column" id="commercial-column">
          <div class="column-header">
            <h2 class="column-title">Commercial</h2>
            <span class="result-count" id="commercial-count"></span>
          </div>
          <div class="results-list" id="commercial-results">
            <div class="empty-state">
              <p>Commercial results will appear here</p>
            </div>
          </div>
        </section>

        <section class="results-column" id="noncommercial-column">
          <div class="column-header">
            <h2 class="column-title">Non-commercial</h2>
            <span class="result-count" id="noncommercial-count"></span>
          </div>
          <div class="results-list" id="noncommercial-results">
            <div class="empty-state">
              <p>Non-commercial results will appear here</p>
            </div>
          </div>
        </section>

        <!-- Mobile: Merged interleaved view -->
        <section class="results-merged" id="merged-column">
          <div class="column-header">
            <h2 class="column-title">Results</h2>
            <div class="source-legend">
              <span class="legend-item legend-commercial">Commercial</span>
              <span class="legend-item legend-noncommercial"
                >Non-commercial</span
              >
            </div>
          </div>
          <div class="results-list" id="merged-results">
            <div class="empty-state">
              <p>Search results will appear here</p>
            </div>
          </div>
        </section>
      </main>

      <footer class="footer">
        <p>
          Powered by
          <a href="https://brave.com/search/" target="_blank" rel="noopener"
            >Brave</a
          >,
          <a href="https://google.com" target="_blank" rel="noopener">Google</a>
          &
          <a href="https://search.marginalia.nu/" target="_blank" rel="noopener"
            >Marginalia</a
          >
        </p>
      </footer>
    </div>

    <script src="script.js?v=4"></script>
  </body>
</html>
